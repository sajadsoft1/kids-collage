/* =========================================================
   Imports
   ========================================================= */
@import 'tailwindcss';
@import '../../vendor/power-components/livewire-powergrid/resources/css/tailwind4.css';
@import "flatpickr/dist/flatpickr.min.css";
@import './kanban.css';

/* =========================================================
   Tailwind Sources
   ========================================================= */
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';
@source '../../app/Livewire/*Table.php';
@source '../../app/Livewire/**/*Table.php';
@source '../../vendor/power-components/livewire-powergrid/src/Themes/Tailwind.php';
@source '../../vendor/power-components/livewire-powergrid/resources/views/**/*.php';
@source "../../vendor/robsontenorio/mary/src/View/Components/**/*.php";

/* =========================================================
   Tailwind Theme Mapping
   ========================================================= */
@theme {
    --font-sans: 'IRANYekan', 'Instrument Sans', ui-sans-serif, system-ui, sans-serif;

    --color-base-100: var(--daisy-base-100);
    --color-base-200: var(--daisy-base-200);
    --color-base-300: var(--daisy-base-300);
    --color-base-content: var(--daisy-base-content);

    --color-primary: var(--daisy-primary);
    --color-primary-content: var(--daisy-primary-content);

    --color-secondary: var(--daisy-secondary);
    --color-secondary-content: var(--daisy-secondary-content);

    --color-accent: var(--daisy-accent);
    --color-accent-content: var(--daisy-accent-content);

    --color-neutral: var(--daisy-neutral);
    --color-neutral-content: var(--daisy-neutral-content);

    --color-info: var(--daisy-info);
    --color-info-content: var(--daisy-info-content);

    --color-success: var(--daisy-success);
    --color-success-content: var(--daisy-success-content);

    --color-warning: var(--daisy-warning);
    --color-warning-content: var(--daisy-warning-content);

    --color-error: var(--daisy-error);
    --color-error-content: var(--daisy-error-content);
}

/* =========================================================
   Safelist
   ========================================================= */
@source inline('lg:ms-{0,1,2,3,4,5,6,7,8,9,10,11,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96,auto}');
@source inline('lg:ps-{0,1,2,3,4,5,6,7,8,9,10,11,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96,auto}');
@source inline('w-{0,1,2,3,4,5,6,7,8,9,10,11,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96,auto}');
@source inline('h-{0,1,2,3,4,5,6,7,8,9,10,11,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96,auto}');

/* =========================================================
   DaisyUI Plugin
   ========================================================= */
@plugin "daisyui" {
    themes: light --default, dark --prefersdark;
    base: true;
    styled: true;
    utils: true;
    prefix: "";
    logs: true;
    themeRoot: ":root";
}

/* Light Theme */
@plugin "daisyui/theme" {
    name: "light";
    default: true;

    --color-base-100: var(--daisy-base-100);
    --color-base-200: var(--daisy-base-200);
    --color-base-300: var(--daisy-base-300);
    --color-base-content: var(--daisy-base-content);

    --color-primary: var(--daisy-primary);
    --color-primary-content: var(--daisy-primary-content);

    --color-secondary: var(--daisy-secondary);
    --color-secondary-content: var(--daisy-secondary-content);

    --color-accent: var(--daisy-accent);
    --color-accent-content: var(--daisy-accent-content);

    --color-neutral: var(--daisy-neutral);
    --color-neutral-content: var(--daisy-neutral-content);

    --color-info: var(--daisy-info);
    --color-info-content: var(--daisy-info-content);

    --color-success: var(--daisy-success);
    --color-success-content: var(--daisy-success-content);

    --color-warning: var(--daisy-warning);
    --color-warning-content: var(--daisy-warning-content);

    --color-error: var(--daisy-error);
    --color-error-content: var(--daisy-error-content);

    --rounded-box: 0.75rem;
    --rounded-btn: 0.5rem;
    --rounded-badge: 0.375rem;
    --border-btn: 1px;
    --animation-btn: 0.2s;
}

/* Dark Theme */
@plugin "daisyui/theme" {
    name: "dark";

    --color-base-100: var(--daisy-base-100);
    --color-base-200: var(--daisy-base-200);
    --color-base-300: var(--daisy-base-300);
    --color-base-content: var(--daisy-base-content);

    --color-primary: var(--daisy-primary);
    --color-primary-content: var(--daisy-primary-content);

    --color-secondary: var(--daisy-secondary);
    --color-secondary-content: var(--daisy-secondary-content);

    --color-accent: var(--daisy-accent);
    --color-accent-content: var(--daisy-accent-content);

    --color-neutral: var(--daisy-neutral);
    --color-neutral-content: var(--daisy-neutral-content);

    --color-info: var(--daisy-info);
    --color-info-content: var(--daisy-info-content);

    --color-success: var(--daisy-success);
    --color-success-content: var(--daisy-success-content);

    --color-warning: var(--daisy-warning);
    --color-warning-content: var(--daisy-warning-content);

    --color-error: var(--daisy-error);
    --color-error-content: var(--daisy-error-content);

    --rounded-box: 0.75rem;
    --rounded-btn: 0.5rem;
    --rounded-badge: 0.375rem;
    --border-btn: 1px;
    --animation-btn: 0.2s;
}

/* =========================================================
   Custom Variants
   ========================================================= */
@custom-variant dark (&:where(.dark, .dark *));
@custom-variant dark (&:where([data-theme=night], [data-theme=night] *));

/* =========================================================
   Base Color Variables
   ========================================================= */
:root {
    --daisy-base-100: #fafbfc;
    --daisy-base-200: #f1f3f9;
    --daisy-base-300: #e3e8f0;
    --daisy-base-content: #1a1a1a;

    --daisy-primary: #f59e5b;
    --daisy-primary-content: #ffffff;

    --daisy-secondary: #e8ede3;
    --daisy-secondary-content: #1a1a1a;

    --daisy-accent: #7fc3a0;
    --daisy-accent-content: #0f5132;

    --daisy-neutral: #495057;
    --daisy-neutral-content: #ffffff;

    --daisy-info: #17a2b8;
    --daisy-info-content: #ffffff;

    --daisy-success: #28a745;
    --daisy-success-content: #ffffff;

    --daisy-warning: #ffc107;
    --daisy-warning-content: #1a1a1a;

    --daisy-error: #dc3545;
    --daisy-error-content: #ffffff;

    --b1: var(--daisy-base-100);
    --b2: var(--daisy-base-200);
    --b3: var(--daisy-base-300);
    --bc: var(--daisy-base-content);

    --p: var(--daisy-primary);
    --pc: var(--daisy-primary-content);
}

/* Dark Overrides */
.dark {
    --daisy-base-100: #1a1d24;
    --daisy-base-200: #252932;
    --daisy-base-300: #343a46;
    --daisy-base-content: #e8eaed;

    --daisy-primary: #ffa366;
    --daisy-primary-content: #1a1a1a;

    --b1: var(--daisy-base-100);
    --b2: var(--daisy-base-200);
    --b3: var(--daisy-base-300);
    --bc: var(--daisy-base-content);

    --p: var(--daisy-primary);
    --pc: var(--daisy-primary-content);
}

/* =========================================================
   Utilities
   ========================================================= */
@layer utilities {
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
}

/* =========================================================
   Layout Effects
   ========================================================= */
.glass-header {
    backdrop-filter: blur(12px);
    background: color-mix(in srgb, var(--b1) 85%, transparent);
    border-bottom: 1px solid var(--b3);
    z-index: 40;
}
.dark .glass-header {
    background: color-mix(in srgb, var(--b1) 90%, transparent);
}

.glass-sidebar {
    backdrop-filter: blur(12px);
    background: color-mix(in srgb, var(--b1) 90%, transparent);
}

/* =========================================================
   Scrollbars
   ========================================================= */
.custom-scrollbar::-webkit-scrollbar { width: 4px; }
.custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--p);
    border-radius: 20px;
}
.custom-scrollbar::-webkit-scrollbar-track { background: transparent; }

/* =========================================================
   Forms
   ========================================================= */
.input {
    &:focus, &:focus-within {
        outline: 2px solid var(--color-primary);
        outline-offset: 2px;
        border: none;
        box-shadow: 0 0 0 4px color-mix(in srgb, var(--color-primary) 30%, transparent);
    }
}

/* =========================================================
   Alpine Helpers
   ========================================================= */
[x-cloak] { display: none !important; }

aside[x-cloak] { opacity: 0; transition: opacity .2s ease; }
aside:not([x-cloak]) { opacity: 1; }

/* =========================================================
   maryUI Overrides
   ========================================================= */
.mary-table-pagination span[aria-current="page"] > span {
    @apply bg-primary text-primary-content;
}
.mary-table-pagination button { @apply cursor-pointer; }

.mary-active-menu { @apply text-white bg-primary; }

/* =========================================================
   PowerGrid Overrides
   ========================================================= */
.responsive-row-expand-container {
    @apply flex-col rounded-md gap-y-5 bg-base-300;
}
.responsive-row-expand-item-container {
    @apply flex items-center justify-between;
}
#power-grid-table-base > div > div:nth-child(2) {
    @apply max-[600px]:flex max-md:flex-col gap-y-3;
}
#power-grid-table-base > div > div:nth-child(2) > label {
    @apply rounded-lg max-md:w-full;
}
#power-grid-table-base table thead tr th:last-child,
#power-grid-table-base table tbody tr td:last-child {
    width: 0 !important;
    white-space: nowrap;
}

#power-grid-table-base table thead tr th:first-child,
#power-grid-table-base table tbody tr td:first-child {
    width: 0 !important;
    white-space: nowrap;
    font-weight: bold;
    text-align: center;
}

/* =========================================================
   Footer
   ========================================================= */
#pg-footer nav { @apply ms-5; }
#pg-footer nav > div .btn { @apply btn-sm; }
#pg-footer nav > div a svg { @apply rtl:rotate-180; }
